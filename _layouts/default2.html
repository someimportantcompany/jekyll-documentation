<!DOCTYPE html>
<html class="antialiased" lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

    {% if page.title %}
    {% assign page_title = page_title | append: site.title | append: " | " | append: page.title %}
    {% else %}
    {% assign page_title = site.title %}
    {% endif %}
    <title>{{ page_title }}</title>
    <meta property="og:title" content="{{ page_title }}"/>
    <meta name="twitter:title" content="{{ page_title }}"/>

    {%- if page.description -%}
    <meta name="description" content="{{ page.description | markdownify | strip_html | strip_newlines }}"/>
    <meta property="og:description" content="{{ page.description | markdownify | strip_html | strip_newlines }}"/>
    <meta name="twitter:description" content="{{ page.description | markdownify | strip_html | strip_newlines }}"/>
    {%- endif %}

    {% if page.image -%}
    <meta property="og:image" content="{{ page.image | absolute_url }}"/>
    <meta name="twitter:image" content="{{ page.image | absolute_url }}"/>
    {%- endif %}

    <meta name="twitter:card" content="summary"/>
    <meta name="twitter:dnt" content="on"/>
    <meta property="og:type" content="blog"/>
    <meta property="og:url" content="{{ page.url | replace:'index.html','' | absolute_url }}"/>
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}"/>

    <link href="{{ '/assets/style.css' | relative_url }}" rel="stylesheet" type="text/css"/>
    <link rel="icon" type="image/png" href="https://github.githubassets.com/favicons/favicon.png"/>

    <link rel="stylesheet" href="{{ '/assets/highlight.min.css' | relative_url }}" type="text/css"/>
    <script src="{{ '/assets/highlight.min.js' | relative_url }}" type="text/javascript"></script>

    <script type="text/javascript">
      window.loadQueue = (Array.isArray(window.loadQueue) ? window.loadQueue : []).concat([
        function () {
          window.hljs && window.hljs.highlightAll();
        },
        function () {
          const menu = document.getElementById('menu-button');
          const nav = document.getElementById('site-navigation');
          if (menu && nav) {
            menu.addEventListener('click', function () {
              nav.classList.toggle('expanded');
            });
          }
        },
      ]);
    </script>
  </head>
  <body class="bg-white">
    {% assign headerBlock = page.header | default: site.header, allow_false: true %}
    {% assign sidebarBlock = page.sidebar | default: site.sidebar, allow_false: true %}
    {% assign footerBlock = page.footer | default: site.footer, allow_false: true %}

    {% if sidebarBlock != false %}
    <div class="sidebar">
      <div class="site-header">
        <a href="{{ '/' | relative_url }}" class="site-title">Superdocs</a>
        <a href="#" id="menu-button" class="site-title-button">â˜°</a>
      </div>

      <div class="site-navigation" id="site-navigation">
        {% include sidebar.html sidebar=sidebarBlock %}
        {% include header.html header=headerBlock %}
      </div>
    </div>
    <div class="main with-sidebar">
      <div class="main-header">
    {% else %}
    <div class="main without-sidebar">
      <div class="main-header">
        <a href="{{ '/' | relative_url }}" class="site-title">{{ site.title }}</a>
    {% endif %}

        <div class="flex-fill"></div>
        {% include header.html header=headerBlock %}
      </div>

      <div class="main-content-wrap">
        {{ content }}
      </div>

      {% if footerBlock != false %}
      <footer>
        {% include footer.html footer=footerBlock %}
      </footer>
      {% endif %}
    </div>

    <script type="text/javascript">
      (function (triggerLoadQueue) {
        if (document.readyState !== 'loading') triggerLoadQueue();
        else document.addEventListener('DOMContentLoaded', triggerLoadQueue);
      })(function triggerLoadQueue() {
        // If any new loadQueue calls hit the array, automatically execute them
        window.loadQueue.push = function(c) { c(); };

        // Run through each function in the loadQueue and execute them
        (Array.isArray(window.loadQueue) ? window.loadQueue : [])
          .filter(function (fn) { return typeof fn === 'function' })
          .forEach(function (fn) { fn(); });
      });
    </script>
  </body>
</html>
